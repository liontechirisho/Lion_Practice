{"ast":null,"code":"var _jsxFileName = \"D:\\\\Lion_Practice\\\\banner_react\\\\src\\\\Banner.js\";\nimport React, { Component } from 'react';\nimport bannerImg from './imgs/banner.png';\nimport Button from './Button';\nimport { setTimeout } from 'timers';\n\nclass Banner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.defaultProps = {\n      openAtStart: true,\n      button: {\n        closeText: '收合',\n        openText: '展開',\n        class: 'btn'\n      },\n      class: {\n        closed: 'closed',\n        closing: 'closing',\n        opened: 'opened',\n        opening: 'opening'\n      },\n      whenTransition: function () {\n        console.log('whenTransition');\n      },\n      transition: true\n    };\n    this.state = {\n      transTime: 600,\n      bannerStat: this.props.openAtStart ? 0 : 2\n    };\n    this.bannerClasses = [this.props.class.opened, this.props.class.closing, this.props.class.closed, this.props.class.opening];\n\n    this.toggleBanner = () => {\n      if (this.props.transition) {\n        if (this.state.bannerStat === 0 || this.state.bannerStat === 2) {\n          this.setState({\n            bannerStat: this.state.bannerStat + 1\n          });\n          this.transitioning(); // setTimeout(this.clearTimer(this.timer), this.state.transTime);\n        }\n      } else {\n        if (this.state.bannerStat === 0) {\n          this.setState({\n            bannerStat: 2\n          });\n        } else {\n          this.setState({\n            bannerStat: 0\n          });\n          console.log(this.timer);\n        }\n      }\n    };\n\n    this.counter = 1;\n    this.timer = null;\n\n    this.transitioning = () => {\n      this.counter++;\n      this.props.whenTransition();\n\n      if (this.counter <= 30) {\n        this.timer = setTimeout(this.transitioning, this.state.transTime / 30);\n      }\n    };\n\n    this.clearTimer = timer => {\n      clearInterval(timer);\n      clearTimeout(timer);\n    };\n  }\n\n  render() {\n    const bannerStat = this.state.bannerStat;\n    let fullClassName = this.props.transition ? 'banner transition ' : 'banner ';\n\n    switch (this.state.bannerStat) {\n      case 0:\n        fullClassName = fullClassName + this.bannerClasses[0];\n        break;\n\n      case 1:\n        fullClassName = fullClassName + this.bannerClasses[1];\n        break;\n\n      case 2:\n        fullClassName = fullClassName + this.bannerClasses[2];\n        break;\n\n      case 3:\n        fullClassName = fullClassName + this.bannerClasses[3];\n        break;\n\n      default:\n        break;\n    }\n\n    return React.createElement(\"div\", {\n      className: fullClassName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img\",\n      src: bannerImg,\n      title: \"\\u8F38\\u5165\\u5EE3\\u544A\\u4FC3\\u92B7\\u8AAA\\u660E\\u6587\\u5B57\",\n      alt: \"\\u8F38\\u5165\\u5EE3\\u544A\\u4FC3\\u92B7\\u8AAA\\u660E\\u6587\\u5B57\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(Button, {\n      btnName: this.props.button.class,\n      toggle: this.toggleBanner,\n      btnText: bannerStat === 0 || bannerStat === 3 ? this.props.button.closeText : this.props.button.openText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Banner;","map":{"version":3,"sources":["D:\\Lion_Practice\\banner_react\\src\\Banner.js"],"names":["React","Component","bannerImg","Button","setTimeout","Banner","defaultProps","openAtStart","button","closeText","openText","class","closed","closing","opened","opening","whenTransition","console","log","transition","state","transTime","bannerStat","props","bannerClasses","toggleBanner","setState","transitioning","timer","counter","clearTimer","clearInterval","clearTimeout","render","fullClassName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport bannerImg from './imgs/banner.png';\r\nimport Button from './Button';\r\nimport { setTimeout } from 'timers';\r\n\r\nclass Banner extends Component {\r\n    defaultProps = {\r\n        openAtStart: true,\r\n        button:\r\n        {\r\n            closeText: '收合',\r\n            openText: '展開',\r\n            class: 'btn',\r\n        },\r\n        class: {\r\n            closed: 'closed',\r\n            closing: 'closing',\r\n            opened: 'opened',\r\n            opening: 'opening'\r\n        },\r\n        whenTransition:\r\n            function () {\r\n                console.log('whenTransition');\r\n            },\r\n        transition: true\r\n\r\n    }\r\n    state = {\r\n        transTime: 600,\r\n        bannerStat: this.props.openAtStart ? 0 : 2\r\n    };\r\n    bannerClasses = [this.props.class.opened, this.props.class.closing, this.props.class.closed, this.props.class.opening];\r\n    toggleBanner = () => {\r\n        if (this.props.transition) {\r\n            if (this.state.bannerStat === 0 || this.state.bannerStat === 2) {\r\n                this.setState({ bannerStat: this.state.bannerStat + 1 });\r\n                this.transitioning();\r\n                // setTimeout(this.clearTimer(this.timer), this.state.transTime);\r\n            }\r\n        } else {\r\n            if (this.state.bannerStat === 0) {\r\n                this.setState({ bannerStat: 2 })\r\n            } else {\r\n                this.setState({ bannerStat: 0 })\r\n                console.log(this.timer)\r\n            }\r\n        }\r\n    }\r\n    counter = 1;\r\n    timer = null;\r\n    transitioning = () => {\r\n        this.counter++;\r\n        this.props.whenTransition();\r\n        if (this.counter <= 30) {\r\n            this.timer = setTimeout(\r\n                this.transitioning, this.state.transTime / 30\r\n            );\r\n        }\r\n    }\r\n    clearTimer = (timer) => {\r\n        clearInterval(timer);\r\n        clearTimeout(timer);\r\n    }\r\n\r\n    render() {\r\n        const { bannerStat } = this.state;\r\n        let fullClassName = this.props.transition ? 'banner transition ' : 'banner ';\r\n\r\n        switch (this.state.bannerStat) {\r\n            case 0:\r\n                fullClassName = fullClassName + this.bannerClasses[0]\r\n                break;\r\n            case 1:\r\n                fullClassName = fullClassName + this.bannerClasses[1]\r\n                break;\r\n            case 2:\r\n                fullClassName = fullClassName + this.bannerClasses[2]\r\n                break;\r\n            case 3:\r\n                fullClassName = fullClassName + this.bannerClasses[3]\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return (\r\n            <div className={fullClassName}>\r\n                <a className=\"wrap\">\r\n                    <img className=\"img\" src={bannerImg} title=\"輸入廣告促銷說明文字\" alt=\"輸入廣告促銷說明文字\" />\r\n                </a>\r\n                <Button btnName={this.props.button.class} toggle={this.toggleBanner} btnText={bannerStat === 0 || bannerStat === 3 ? this.props.button.closeText : this.props.button.openText}></Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Banner;"]},"metadata":{},"sourceType":"module"}